---
import { site } from '~/config';
import Layout from '~/layouts/Base.astro';
import DashboardApp from '~/components/dashboard/App';

export function getStaticPaths() {
  // These routes are managed by Solid Router on the client side
  // but need to be statically generated to be able to access them
  // as regular pages.
  return [
    { params: { path: undefined } },
    { params: { path: 'info' } },
    { params: { path: 'connections' } },
    { params: { path: 'jetstream' } },
  ];
}

const { path } = Astro.params;
---

<Layout
  meta={{
    description: site.description,
    keywords: site.keywords as unknown as string[],
  }}
  pathname="/"
>
  <DashboardApp url={path ?? '/'} client:only="solid-js" />
</Layout>
